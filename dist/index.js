(()=>{var __webpack_modules__={256:(e,t,s)=>{const{join:o}=s(760);const{homedir:c}=s(161);const{createWriteStream:a}=s(24);const n=s(835);function build(e){const t={...n,...e};return Object.entries(t).map((([e,t])=>`${e} = ${t}`))}function write(e,t){const s=a(e);for(const e of t){s.write(e+"\r\n")}}function configure(e,t,s){const a=process.env.S3CMD_CONFIG||o(c(),".s3cfg");return write(a,build({...e,access_key:t,secret_key:s}))}e.exports={configure:configure,build:build,write:write}},866:(e,t)=>{const s={};t.tests=s;t.aws=({region:e="US"})=>({bucket_location:e,host_base:"s3.amazonaws.com",host_bucket:"%(bucket)s.s3.amazonaws.com",website_endpoint:"http://%(bucket)s.s3-website-%(location)s.amazonaws.com/"});s.aws={giveInputs:{provider:"aws",region:"us-east-1"},wantLines:["bucket_location = us-east-1","host_base = s3.amazonaws.com","host_bucket = %(bucket)s.s3.amazonaws.com","website_endpoint = http://%(bucket)s.s3-website-%(location)s.amazonaws.com/"]};t.digitalocean=({region:e="nyc3"})=>({bucket_location:e,host_base:`${e}.digitaloceanspaces.com`,host_bucket:`%(bucket)s.${e}.digitaloceanspaces.com`,website_endpoint:`http://%(bucket)s.website-${e}.digitaloceanspaces.com`});s.digitalocean={giveInputs:{provider:"digitalocean",region:"nyc3"},wantLines:["bucket_location = nyc3","host_base = nyc3.digitaloceanspaces.com","host_bucket = %(bucket)s.nyc3.digitaloceanspaces.com","website_endpoint = http://%(bucket)s.website-nyc3.digitaloceanspaces.com"]};t.linode=({region:e="eu-central-1"})=>({bucket_location:"US",host_base:`${e}.linodeobjects.com`,host_bucket:`%(bucket)s.${e}.linodeobjects.com`,website_endpoint:`http://%(bucket)s.website-${e}.linodeobjects.com/`});s.linode={giveInputs:{provider:"linode",region:"us-central-1"},wantLines:["bucket_location = US","host_base = us-central-1.linodeobjects.com","host_bucket = %(bucket)s.us-central-1.linodeobjects.com","website_endpoint = http://%(bucket)s.website-us-central-1.linodeobjects.com/"]};t.scaleway=({region:e="fr-par"})=>({bucket_location:e,host_base:`s3.${e}.scw.cloud`,host_bucket:`%(bucket)s.s3.${e}.scw.cloud`,website_endpoint:`https://%(bucket)s.s3-website.${e}.scw.cloud/`});s.scaleway={giveInputs:{provider:"scaleway",region:"fr-par"},wantLines:["bucket_location = fr-par","host_base = s3.fr-par.scw.cloud","host_bucket = %(bucket)s.s3.fr-par.scw.cloud","website_endpoint = https://%(bucket)s.s3-website.fr-par.scw.cloud/"]};t.cloudflare=({account_id:e="",region:t="auto"})=>({bucket_location:t,host_base:`${e}.r2.cloudflarestorage.com`,host_bucket:"",website_endpoint:""});s.cloudflare={giveInputs:{provider:"cloudflare",account_id:"your_account_id",region:"auto"},wantLines:["bucket_location = auto","host_base = your_account_id.r2.cloudflarestorage.com","host_bucket = ","website_endpoint = "]};t.vultr=({region:e="ewr1"})=>({bucket_location:e,host_base:`${e}.vultrobjects.com`,host_bucket:`%(bucket)s.${e}.vultrobjects.com`,website_endpoint:""});s.vultr={giveInputs:{provider:"vultr",region:"ewr1"},wantLines:["bucket_location = ewr1","host_base = ewr1.vultrobjects.com","host_bucket = %(bucket)s.ewr1.vultrobjects.com","website_endpoint = "]};t.clevercloud=({region:e="US"})=>({bucket_location:e,host_base:`cellar-c2.services.clever-cloud.com`,host_bucket:`%(bucket)s.cellar-c2.services.clever-cloud.com`,website_endpoint:""});s.clevercloud={giveInputs:{provider:"clevercloud",region:"US"},wantLines:["bucket_location = US","host_base = cellar-c2.services.clever-cloud.com","host_bucket = %(bucket)s.cellar-c2.services.clever-cloud.com","website_endpoint = "]};t.hcloud=({region:e="fsn1"})=>({bucket_location:e,host_base:`${e}.your-objectstorage.com`,host_bucket:`%(bucket)s.${e}.your-objectstorage.com`,website_endpoint:""});s.hcloud={giveInputs:{provider:"hcloud",region:"fsn1"},wantLines:["bucket_location = fsn1","host_base = fsn1.your-objectstorage.com","host_bucket = %(bucket)s.fsn1.your-objectstorage.com","website_endpoint = "]};t.synologyc2=({region:e="us-001"})=>({bucket_location:e,host_base:`${e}.s3.synologyc2.net`,host_bucket:"",website_endpoint:""});s.synologyc2={giveInputs:{provider:"synologyc2",region:"us-001"},wantLines:["bucket_location = us-001","host_base = us-001.s3.synologyc2.net","host_bucket = ","website_endpoint = "]};t.wasabi=({region:e="ap-southeast-1"})=>({bucket_location:e,host_base:`s3.${e}.wasabisys.com`,host_bucket:`%(bucket)s.s3.${e}.wasabisys.com`,website_endpoint:""});s.wasabi={giveInputs:{provider:"wasabi",region:"ap-southeast-1"},wantLines:["bucket_location = ap-southeast-1","host_base = s3.ap-southeast-1.wasabisys.com","host_bucket = %(bucket)s.s3.ap-southeast-1.wasabisys.com","website_endpoint = "]};t.yandex=({region:e="ru-central1"})=>({bucket_location:e,host_base:`storage.yandexcloud.net`,host_bucket:`%(bucket)s.storage.yandexcloud.net`,website_endpoint:""});s.yandex={giveInputs:{provider:"yandex",region:"ru-central1"},wantLines:["bucket_location = ru-central1","host_base = storage.yandexcloud.net","host_bucket = %(bucket)s.storage.yandexcloud.net","website_endpoint = "]}},53:module=>{module.exports=eval("require")("@actions/core")},421:e=>{"use strict";e.exports=require("node:child_process")},24:e=>{"use strict";e.exports=require("node:fs")},161:e=>{"use strict";e.exports=require("node:os")},760:e=>{"use strict";e.exports=require("node:path")},835:e=>{"use strict";e.exports=JSON.parse('{"access_key":"","access_token":"","add_encoding_exts":"","add_headers":"","bucket_location":"US","ca_certs_file":"","cache_file":"","check_ssl_certificate":"True","check_ssl_hostname":"True","cloudfront_host":"cloudfront.amazonaws.com","connection_max_age":"5","connection_pooling":"True","content_disposition":"","content_type":"","default_mime_type":"binary/octet-stream","delay_updates":"False","delete_after":"False","delete_after_fetch":"False","delete_removed":"False","dry_run":"False","enable_multipart":"True","encoding":"UTF-8","encrypt":"False","expiry_date":"","expiry_days":"","expiry_prefix":"","follow_symlinks":"False","force":"False","get_continue":"False","gpg_command":"/usr/bin/gpg","gpg_decrypt":"%(gpg_command)s -d --verbose --no-use-agent --batch --yes --passphrase-fd %(passphrase_fd)s -o %(output_file)s %(input_file)s","gpg_encrypt":"%(gpg_command)s -c --verbose --no-use-agent --batch --yes --passphrase-fd %(passphrase_fd)s -o %(output_file)s %(input_file)s","gpg_passphrase":"","guess_mime_type":"True","host_base":"s3.amazonaws.com","host_bucket":"%(bucket)s.s3.amazonaws.com","human_readable_sizes":"False","invalidate_default_index_on_cf":"False","invalidate_default_index_root_on_cf":"True","invalidate_on_cf":"False","keep_dirs":"False","kms_key":"","limit":"-1","limitrate":"0","list_allow_unordered":"False","list_md5":"False","log_target_prefix":"","long_listing":"False","max_delete":"-1","max_retries":"5","mime_type":"","multipart_chunk_size_mb":"15","multipart_copy_chunk_size_mb":"1024","multipart_max_chunks":"10000","preserve_attrs":"True","progress_meter":"True","proxy_host":"","proxy_port":"0","public_url_use_https":"False","put_continue":"False","recursive":"False","recv_chunk":"65536","reduced_redundancy":"False","requester_pays":"False","restore_days":"1","restore_priority":"Standard","secret_key":"","send_chunk":"65536","server_side_encryption":"False","signature_v2":"False","signurl_use_https":"False","simpledb_host":"sdb.amazonaws.com","skip_destination_validation":"False","skip_existing":"False","socket_timeout":"300","ssl_client_cert_file":"","ssl_client_key_file":"","stats":"False","stop_on_error":"False","storage_class":"","throttle_max":"100","upload_id":"","urlencoding_mode":"normal","use_http_expect":"False","use_https":"True","use_mime_magic":"True","verbosity":"WARNING","website_endpoint":"http://%(bucket)s.s3-website-%(location)s.amazonaws.com/","website_error":"","website_index":"index.html"}')}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var s=__webpack_module_cache__[e]={exports:{}};var o=true;try{__webpack_modules__[e](s,s.exports,__nccwpck_require__);o=false}finally{if(o)delete __webpack_module_cache__[e]}return s.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=__dirname+"/";var __webpack_exports__={};const{execSync:execSync}=__nccwpck_require__(421);const core=__nccwpck_require__(53);const{configure:configure}=__nccwpck_require__(256);const providers=__nccwpck_require__(866);try{const e=execSync("s3cmd --version").toString().trim();core.notice(`s3cmd already installed: ${e}`)}catch{const e=core.getInput("s3cmd_version")||"2.4.0";const t=["pip3","install",`s3cmd==${e}`,"--no-cache","--break-system-packages"];try{core.notice("attempting to install s3cmd");core.debug(execSync(t.join(" ")).toString())}catch{core.debug("pip3 install failed, trying without --break-system-packages");t.pop();core.debug(execSync(t.join(" ")).toString())}}if(process.env.RUNNER_TEMP){process.env.S3CMD_CONFIG=`${process.env.RUNNER_TEMP}/s3cmd.conf`;core.exportVariable("S3CMD_CONFIG",process.env.S3CMD_CONFIG);core.debug(`S3CMD_CONFIG=${process.env.S3CMD_CONFIG}`)}configure(providers[core.getInput("provider")]({region:core.getInput("region"),account_id:core.getInput("account_id")}),core.getInput("access_key"),core.getInput("secret_key"));return 0;module.exports=__webpack_exports__})();